# =============================================================================
# üöÄ Edfolio Environment Configuration
# =============================================================================
# This file documents all environment variables for Edfolio.
#
# QUICK START (Local Docker Development):
#   1. cp .env.example .env
#   2. docker-compose up
#   3. Open http://localhost:3000
#
# Most variables are auto-configured for Docker! See notes below.
#
# PRODUCTION DEPLOYMENT:
#   See /docs/DEPLOYMENT.md for detailed setup instructions

# =============================================================================
# 1. DATABASE (Required for Production)
# =============================================================================
# PostgreSQL connection string
#
# LOCAL DOCKER: Auto-configured in docker-compose.yml - no changes needed!
# PRODUCTION: Get from your database provider
#
# Free database providers:
#   - Railway:  https://railway.app ‚Üí New ‚Üí PostgreSQL
#   - Supabase: https://supabase.com ‚Üí New Project ‚Üí Settings ‚Üí Database
#   - Neon:     https://neon.tech ‚Üí New Project ‚Üí Connection String
#   - Vercel:   Vercel Dashboard ‚Üí Storage ‚Üí Create Postgres
#
# Example formats:
#   Railway:   postgresql://postgres:abc123@containers-us-west.railway.app:5432/railway
#   Supabase:  postgresql://postgres:abc123@db.xyz.supabase.co:5432/postgres
#   Neon:      postgresql://user:abc123@ep-cool-name.us-east-2.aws.neon.tech/neondb
#
DATABASE_URL="postgresql://edfolio:edfolio_dev_password@localhost:5432/edfolio"

# =============================================================================
# 2. AUTHENTICATION (Required)
# =============================================================================
# NextAuth v5 configuration
#
# AUTH_URL: Your application URL
#   LOCAL:      http://localhost:3000
#   PRODUCTION: https://your-app.vercel.app (or your custom domain)
#
# AUTH_SECRET: Secret key for signing JWTs and encrypting cookies
#   LOCAL:      Can use the default below
#   PRODUCTION: MUST generate unique secret with: openssl rand -base64 32
#
AUTH_URL="http://localhost:3000"
AUTH_SECRET="dev-secret-change-in-production-min-32-chars-required"

# =============================================================================
# 3. SCALEWAY AI (Optional - AI Text Generation Features)
# =============================================================================
# EU-based AI infrastructure (GDPR compliant)
# All data processing in France, Paris datacenter (fr-par)
#
# REQUIRED FOR: AI-powered text generation, rephrasing, summarization
# IF NOT SET: AI features will be disabled (app still works without them)
#
# How to get API keys (FREE tier available):
#   1. Go to https://console.scaleway.com/
#   2. Create account (no credit card for free tier)
#   3. Create new project or use default
#   4. Go to "IAM" ‚Üí "API Keys" ‚Üí "Generate API Key"
#   5. Copy:
#      - Access Key (starts with SCW...)
#      - Secret Key (long alphanumeric string)
#   6. Go to "Project Settings" ‚Üí Copy:
#      - Organization ID
#      - Project ID
#
# Free tier: ‚Ç¨5 free credits/month for generative AI
#
# Leave these empty to disable AI features:
SCW_ACCESS_KEY=""
SCW_SECRET_KEY=""
SCW_DEFAULT_ORGANIZATION_ID=""
SCW_DEFAULT_PROJECT_ID=""
SCW_REGION="fr-par"

# =============================================================================
# 4. SCALEWAY OBJECT STORAGE (Optional - File Upload Features)
# =============================================================================
# S3-compatible object storage for user-uploaded images and files
# EU-based storage (GDPR compliant)
#
# REQUIRED FOR: Image uploads, file attachments
# IF NOT SET: Upload features will be disabled
#
# How to set up (FREE tier: 75GB storage, 75GB transfer/month):
#   1. Go to https://console.scaleway.com/object-storage/buckets
#   2. Click "Create Bucket"
#   3. Choose name, region (fr-par recommended), visibility
#   4. Go to "IAM" ‚Üí "API Keys" ‚Üí Generate S3 credentials
#   5. Copy Access Key and Secret Key
#
# Leave these empty to disable file uploads:
SCALEWAY_ACCESS_KEY=""
SCALEWAY_SECRET_KEY=""
SCALEWAY_BUCKET_NAME=""
SCALEWAY_REGION="fr-par"

# =============================================================================
# 5. EMAIL SERVICE (Optional - Email Features)
# =============================================================================
# Transactional email service (EU-based, GDPR compliant)
# Uses Resend with EU region (eu-west-1)
#
# REQUIRED FOR:
#   - Password reset emails
#   - Magic link sign-in (if enabled)
#   - Share invitation notifications
#   - Collaboration notifications
#
# IF NOT SET: Emails will log to console instead (development mode)
#
# How to get API key (FREE tier: 100 emails/day, 3,000/month):
#   1. Go to https://resend.com/
#   2. Sign up (free tier, no credit card)
#   3. Verify your sending domain OR use onboarding@resend.dev for testing
#   4. Go to "API Keys" ‚Üí "Create API Key"
#   5. Copy the key (starts with re_...)
#
# Leave empty to disable email (logs to console instead):
RESEND_API_KEY=""
EMAIL_FROM_ADDRESS="noreply@yourdomain.com"
EMAIL_FROM_NAME="Edfolio"

# =============================================================================
# 6. PUBLIC APP URL (Optional - Auto-detected)
# =============================================================================
# Public URL for email links and absolute URLs
#
# USUALLY: You don't need to set this - it's auto-detected from request headers
# SET THIS IF: You need to override the automatic detection (rare)
#
# Examples:
#   Development: http://localhost:3000 (auto-detected)
#   Production:  https://edfol.io or https://your-app.vercel.app
#
# NEXT_PUBLIC_APP_URL=""

# =============================================================================
# 7. CRON JOB SECURITY (Optional - Scheduled Tasks)
# =============================================================================
# Secret key for authenticating automated cron job requests
#
# REQUIRED FOR: Scheduled tasks (cleanup, notifications, etc.)
# IF NOT SET: Cron endpoints will be disabled for security
#
# Generate secure random string:
#   openssl rand -base64 32
#
# Add to Vercel Cron Jobs settings as Authorization header
#
CRON_SECRET=""

# =============================================================================
# üìö DOCUMENTATION & SUPPORT
# =============================================================================
# Full setup guides:
#   - /docs/DOCKER-SETUP.md    - Local development with Docker
#   - /docs/DEPLOYMENT.md      - Production deployment guide
#   - /docs/MIGRATION-WORKFLOW.md - Database migration workflow
#   - README.md                - Quick start guide
#
# Need help? Open an issue on GitHub
#
# =============================================================================
# CHECKLIST FOR PRODUCTION
# =============================================================================
# ‚úÖ Database (Required):
#    [ ] DATABASE_URL set to managed PostgreSQL (Railway/Supabase/Neon)
#
# ‚úÖ Authentication (Required):
#    [ ] AUTH_URL set to your production domain
#    [ ] AUTH_SECRET generated with: openssl rand -base64 32
#
# ‚ö†Ô∏è Optional Features (Enable as needed):
#    [ ] Scaleway AI keys (for AI features)
#    [ ] Scaleway S3 keys (for file uploads)
#    [ ] Resend API key (for emails)
#    [ ] CRON_SECRET (for scheduled tasks)
#
# Total setup time: ~15-20 minutes with all features
# Cost with free tiers: $0/month to start
